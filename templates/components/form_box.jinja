{% from "components/forms.jinja" import input_date, input_number %}

{% macro add_high(title, unit, endpoint) %}
  <div class="box has-background-text-soft">
    <h4 class="title is-4 has-text-text-bold">Add {{ title }}</h4>
    <form id="add-{{ title|lower }}-form" onsubmit="return false;">
      {{ input_date(label="Datestamp", name="datestamp") }}
      {% if unit %}
        {{ input_number(label="High (" + unit + ")", name="high") }}
      {% else %}
        {{ input_number(label="High", name="high") }}
      {% endif %}
      <div class="buttons is-centered">
        <button class="button is-success" id="add-{{ title|lower }}-button" onclick="addHighEntry('{{ title|lower }}', '{{ endpoint }}')" type="button">
          <span class="icon">
            <i class="fa-solid fa-add"></i>
          </span>
          <span>Add</span>
        </button>
      </div>
    </form>
  </div>
{% endmacro %}



{% macro remove_high(title, endpoint) %}
  <div class="box has-background-text-soft">
    <h4 class="title is-4 has-text-text-bold">Remove {{ title }}</h5>
    <form id="remove-{{ title|lower }}-form" onsubmit="return false;">
      {{ input_date(label="Datestamp", name="datestamp") }}
      <div class="buttons is-centered">
        <button class="button is-danger" id="remove-{{ title|lower }}-button" onclick="removeHighEntry('{{ title|lower }}', '{{ endpoint }}')" type="button">
          <span class="icon">
            <i class="fa-solid fa-minus"></i>
          </span>
          <span>Remove</span>
        </button>
      </div>
    </form>
  </div>
{% endmacro %}



{% macro add_total(title, unit, endpoint) %}
  <div class="box has-background-text-soft">
    <h4 class="title is-4 has-text-text-bold">Add {{ title }}</h5>
    <form id="add-{{ title|lower }}-form" onsubmit="return false;">
      {{ input_date(label="Datestamp", name="datestamp") }}
      {% if unit %}
        {{ input_number(label="Total (" + unit + ")", name="total") }}
      {% else %}
        {{ input_number(label="Total", name="total") }}
      {% endif %}
      <div class="buttons is-centered">
        <button class="button is-success" id="add-{{ title|lower }}-button" onclick="addTotalEntry('{{ title|lower }}', '{{ endpoint }}')" type="button">
          <span class="icon">
            <i class="fa-solid fa-add"></i>
          </span>
          <span>Add</span>
        </button>
      </div>
    </form>
  </div>
{% endmacro %}



{% macro remove_total(title, endpoint) %}
  <div class="box has-background-text-soft">
    <h4 class="title is-4 has-text-text-bold">Remove {{ title }}</h5>
    <form id="remove-{{ title|lower }}-form" onsubmit="return false;">
      {{ input_date(label="Datestamp", name="datestamp") }}
      <div class="buttons is-centered">
        <button class="button is-danger" id="remove-{{ title|lower }}-button" onclick="removeTotalEntry('{{ title|lower }}', '{{ endpoint }}')" type="button">
          <span class="icon">
            <i class="fa-solid fa-minus"></i>
          </span>
          <span>Remove</span>
        </button>
      </div>
    </form>
  </div>
{% endmacro %}
