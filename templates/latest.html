{% extends "base.jinja" %}
{% from "components/forms.jinja" import number_input %}
{% from "components/chart.jinja" import chart %}
{% block title %}Weatherdan - Latest{% endblock %}
{% block side_panel %}
  <div class="box">
    <h5 class="title is-5 has-text-info">Settings</h5>
    <form accept-charset="UTF-8" action="/latest" method="get">
      {{ number_input(label="Maximum Entries", name="maximum", value=count) }}
      <div class="buttons is-centered">
        <button class="button is-link is-rounded">
          <span class="icon is-medium">
            <i class="fa-solid fa-lg fa-filter"></i>
          </span>
          <span>Filter</span>
        </button>
      </div>
    </form>
  </div>
{% endblock %}
{% block list_content %}
  {{ chart(label="Daily Stats", id="daily-stats") }}
  {{ chart(label="Weekly Stats", id="weekly-stats") }}
  {{ chart(label="Monthly Stats", id="monthly-stats") }}
  {{ chart(label="Yearly Stats", id="yearly-stats") }}
{% endblock %}
{% block js %}
<script type="text/javascript">
$(document).ready(function() {
  loadYearlyStats({{ count }});
  loadMonthlyStats({{ count }});
  loadWeeklyStats({{ count }});
  loadDailyStats({{ count }});
});
</script>
{% endblock %}
